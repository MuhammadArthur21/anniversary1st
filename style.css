:root{
    --bg-1: #fff6f7;
    --bg-2: #fff0f3;
    --accent: #c76a8b;
    --accent-2: #f5a3b7;
    --accent-3: #ffd7e0;
    --max-width: 980px;
    --card-elev: 0 22px 60px rgba(199,106,139,0.12);
    --muted: #6b6b6b;
    --card: rgba(255,255,255,0.9);
    --soft-shadow: 0 18px 50px rgba(199,106,139,0.08);
}
*{box-sizing:border-box}
/* Fluid typography and baseline reset */
html{font-size:clamp(15px, 1.6vw, 18px)}
body{height:100%;margin:0;font-family:Inter, Montserrat, system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;background:linear-gradient(180deg,var(--bg-1),var(--bg-2));color:#222;line-height:1.5;-webkit-font-smoothing:antialiased}
.bg-layer{position:fixed;inset:0;pointer-events:none}
.bg-layer::before{content:"";position:fixed;inset:0;pointer-events:none;background-image:radial-gradient(rgba(245,163,183,0.08) 1px, transparent 1px);background-size:60px 60px;mix-blend-mode:soft-light;opacity:0.9}
.vignette{position:fixed;inset:0;pointer-events:none;background:radial-gradient(ellipse at center, rgba(0,0,0,0) 40%, rgba(0,0,0,0.06) 100%);} 
.main-header{padding:48px 20px 12px;text-align:center;position:relative}
.main-header h1{font-family:Caveat,serif;font-size:clamp(34px,4.8vw,48px);margin:0;color:var(--accent);text-shadow:0 2px 0 rgba(255,255,255,0.6)}
.main-header p{margin:8px 0 0;color:var(--accent-2);font-weight:600;font-size:15px}

/* small header toolbar */
.header-toolbar{position:absolute;right:20px;top:18px;display:flex;gap:8px}
.btn.small{padding:8px 10px;border-radius:10px;font-size:0.92rem}
.toolbar-group{display:flex;gap:8px;align-items:center}
.mobile-only{display:none}
.hide-on-mobile{display:inline-flex}
.header-decor{position:relative;display:block;margin:10px auto 0;opacity:0.9}

/* celebration micro-animation */
.main-header.celebrate h1{animation:celebratePop 1.6s ease both}
@keyframes celebratePop{0%{transform:translateY(0) scale(1)}40%{transform:translateY(-6px) scale(1.04)}70%{transform:translateY(2px) scale(1.02) rotate(-1deg)}100%{transform:none}}

/* Timeline progress (top) */
.timeline{width:100%;max-width:var(--max-width);margin:8px auto 0;padding:0 16px}
.timeline-track{height:8px;background:linear-gradient(90deg, rgba(255,255,255,0.6), rgba(255,255,255,0.3));border-radius:999px;position:relative;overflow:hidden}
.timeline-progress{position:absolute;left:0;top:0;bottom:0;width:0;background:linear-gradient(90deg,var(--accent-2),var(--accent));display:block;border-radius:999px;box-shadow:0 8px 30px rgba(199,106,139,0.12);transition:width .28s cubic-bezier(.2,.9,.2,1)}

/* Love meter */
.love-meter-wrap{display:inline-flex;align-items:center;gap:8px}
.love-meter-wrap input[type='range']{width:120px;appearance:none;height:6px;background:linear-gradient(90deg,#ffd7e0,#fff);border-radius:999px;outline:none}
.love-meter-wrap input[type='range']::-webkit-slider-thumb{appearance:none;width:18px;height:18px;border-radius:50%;background:var(--accent);box-shadow:0 6px 18px rgba(199,106,139,0.18);cursor:pointer}
.love-icon{font-size:18px;display:inline-block;transform:translateY(0);transition:transform .18s ease}

/* Confetti / micro animations root */
#confetti-root{position:fixed;inset:0;pointer-events:none;z-index:120;overflow:visible}
.confetti{position:absolute;width:10px;height:14px;opacity:0;transform-origin:center;will-change:transform,opacity}
@keyframes confettiFall{0%{transform:translateY(-10vh) rotate(0) scale(1);opacity:1}70%{opacity:1}100%{transform:translateY(110vh) rotate(540deg) scale(.9);opacity:0}}

/* Typewriter reveal */
.typewriter{white-space:pre-wrap;display:inline-block}
.typing-caret{border-right:2px solid rgba(199,106,139,0.9);animation:blinkCaret .9s steps(1) infinite}
/* Hearts background SVG styling and subtle motion */
.hearts-bg{position:fixed;left:0;right:0;top:56px;height:220px;pointer-events:none;z-index:5;opacity:0.75}
.heart-path{transform-origin:center;filter:drop-shadow(0 12px 34px rgba(199,106,139,0.06));transition:transform .9s cubic-bezier(.2,.9,.2,1),opacity .6s}
.heart-path.small{opacity:0.7;transform:translateY(4px) scale(.8)}
.heart-path.med{opacity:0.85;transform:translateY(2px) scale(.9)}
.hearts-bg:hover .heart-path{transform:translateY(-6px) scale(1.02)}

/* Elevated cards and photo frames */
.month-section{box-shadow:var(--card-elev);border:1px solid rgba(255,255,255,0.6)}
.photo-grid figure{transition:transform .36s cubic-bezier(.2,.9,.2,1),box-shadow .36s}
.photo-grid figure:hover{transform:translateY(-6px) scale(1.01);box-shadow:0 28px 60px rgba(199,106,139,0.12)}

/* Lightbox caption overlay */
.modal-caption{background:linear-gradient(90deg, rgba(255,255,255,0.95), rgba(255,255,255,0.85));padding:10px 14px;border-radius:999px;box-shadow:0 8px 30px rgba(0,0,0,0.12)}
.modal-actions{position:absolute;left:14px;top:12px;display:flex;gap:8px}
.modal-actions .btn{padding:8px 10px;border-radius:10px;font-size:0.95rem}

/* Toast notification */
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:22px;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;padding:10px 14px;border-radius:999px;box-shadow:var(--card-elev);z-index:200;opacity:0;transition:opacity .24s ease,transform .24s}
.toast.show{opacity:1;transform:translateX(-50%) translateY(-6px)}

/* Cursor hearts */
#cursor-heart-root{position:fixed;left:0;top:0;right:0;bottom:0;pointer-events:none;z-index:130}
.cursor-heart{position:absolute;width:18px;height:18px;background:linear-gradient(180deg,var(--accent-2),var(--accent));border-radius:6px;opacity:0.95;transform:scale(0.8) translateY(0);transition:transform .6s cubic-bezier(.2,.9,.2,1),opacity .6s}

/* Floating messages */
#floating-messages{position:fixed;left:14px;bottom:120px;width:260px;pointer-events:none;z-index:140}
.float-msg{display:block;background:linear-gradient(90deg,rgba(255,255,255,0.98),rgba(255,245,250,0.98));padding:8px 12px;border-radius:999px;margin-bottom:8px;box-shadow:0 18px 40px rgba(199,106,139,0.06);opacity:0;transform:translateY(18px) scale(.98);transition:transform .6s cubic-bezier(.2,.9,.2,1),opacity .6s}
.float-msg.show{opacity:1;transform:translateY(0) scale(1)}

/* Kiss counter */
#kiss-count{display:inline-block;color:var(--accent);font-weight:700;margin-left:6px}

/* Visualizer */
.visualizer{position:fixed;left:50%;transform:translateX(-50%);bottom:88px;z-index:90;border-radius:12px;background:linear-gradient(90deg,rgba(255,255,255,0.6),rgba(255,255,255,0.35));box-shadow:0 26px 60px rgba(199,106,139,0.08);padding:6px}
.visualizer[hidden]{display:none}

/* Secret message */
.secret{position:fixed;left:50%;top:40%;transform:translateX(-50%);background:linear-gradient(90deg,#fff,#fff7f9);padding:18px 22px;border-radius:14px;box-shadow:var(--card-elev);z-index:210;font-family:Caveat,serif;font-size:20px}
.secret.hidden{display:none}

/* Emoji rain */
.emoji{position:fixed;font-size:24px;left:0;top:-40px;pointer-events:none;z-index:150;filter:drop-shadow(0 10px 20px rgba(199,106,139,0.08))}
@keyframes blinkCaret{50%{border-color:transparent}}

main{max-width:980px;margin:28px auto;padding:0 16px}
.month-section{background:linear-gradient(180deg, rgba(255,255,255,0.86), rgba(255,255,255,0.95));backdrop-filter:blur(6px);border-radius:14px;padding:20px;margin:22px 0;box-shadow:var(--soft-shadow);overflow:hidden;opacity:0;transform:translateY(12px) scale(.998);transition:transform .5s cubic-bezier(.2,.9,.2,1),opacity .5s ease}
.month-section.is-visible{opacity:1;transform:none}
.month-title{margin:0 0 6px;font-size:18px;color:var(--accent);font-weight:800;letter-spacing:0.2px}
.month-title:after{content:"";display:block;height:6px;width:48px;margin-top:8px;border-radius:6px;background:linear-gradient(90deg,var(--accent-2),var(--accent));box-shadow:0 6px 18px rgba(199,106,139,0.06)}
.month-subtitle{margin:6px 0 10px;color:#333;font-size:14px;font-weight:600}
.month-story{margin:0 0 12px;color:var(--muted);line-height:1.6}

.photo-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
.photo-grid figure{margin:0;border-radius:12px;overflow:hidden;position:relative;background:linear-gradient(180deg,rgba(255,255,255,0.6),rgba(255,255,255,0.4));padding:6px}
.photo-grid img{width:100%;height:220px;object-fit:cover;border-radius:10px;opacity:0;transform:translateY(10px);transition:transform .36s cubic-bezier(.2,.9,.2,1),opacity .36s ease,box-shadow .36s ease;display:block}
.photo-grid img:hover{transform:translateY(0) scale(1.035);box-shadow:0 18px 40px rgba(199,106,139,0.14)}
.photo-grid figure::before{content:"";position:absolute;inset:6px;border-radius:10px;padding:2px;background:linear-gradient(180deg, rgba(245,163,183,0.06), rgba(199,106,139,0.04));pointer-events:none}
.photo-grid figcaption{font-size:12px;color:var(--muted);padding:8px 6px 0;text-align:center}

/* subtle heartbeat animation for title */
.main-header h1{animation:heartbeat 6s infinite}
@keyframes heartbeat{0%,30%{transform:scale(1)}40%{transform:scale(1.02)}42%{transform:scale(1)}}

.epilogue{max-width:980px;margin:40px auto;padding:20px;text-align:center}
.epilogue-content{background:linear-gradient(180deg, rgba(255,255,255,0.75), rgba(255,255,255,0.9));padding:20px;border-radius:14px;box-shadow:var(--soft-shadow)}
#epilogue-photo{width:100%;max-height:420px;object-fit:cover;border-radius:12px;opacity:0;transform:translateY(8px);transition:all .8s ease}
.epilogue .is-visible{opacity:1;transform:none}

#restart-button{margin-top:12px;padding:10px 14px;border-radius:8px;border:0;background:linear-gradient(90deg,var(--accent),#9f6a8e);color:white;font-weight:600;cursor:pointer}

.audio-container{position:fixed;right:18px;bottom:18px;z-index:40}
#audio-control{background:rgba(255,255,255,0.92);border-radius:50%;width:56px;height:56px;border:0;display:flex;align-items:center;justify-content:center;box-shadow:0 6px 18px rgba(0,0,0,0.08);cursor:pointer}
#audio-control svg{width:22px;height:22px;color:var(--accent)}

.scroll-indicator{position:fixed;left:18px;top:50%;transform:translateY(-50%);z-index:30}
.scroll-indicator ul{list-style:none;margin:0;padding:6px;background:rgba(255,255,255,0.9);border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
.scroll-indicator li{padding:6px}
.scroll-indicator a{display:block;width:10px;height:10px;border-radius:50%;background:#e6b6c6;opacity:0.6}
.scroll-indicator a.active{background:var(--accent);opacity:1;box-shadow:0 4px 8px rgba(199,106,139,0.18)}

.modal{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .2s ease}
.modal.is-visible{opacity:1;pointer-events:auto}
.modal .modal-content{max-width:92vw;max-height:92vh;border-radius:10px;object-fit:contain}
.close-modal{position:fixed;right:28px;top:24px;font-size:36px;color:white;cursor:pointer}

.overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(0,0,0,0.28), rgba(0,0,0,0.44));z-index:80;backdrop-filter:blur(4px)}
.overlay-card{background:linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,255,255,0.97));padding:22px;border-radius:16px;max-width:420px;text-align:center;box-shadow:0 30px 80px rgba(199,106,139,0.12);border:1px solid rgba(255,200,215,0.45)}
.overlay-card{opacity:0;transform:translateY(-12px) scale(.98);transition:all .36s cubic-bezier(.2,.9,.2,1)}
.overlay.show .overlay-card{opacity:1;transform:none}
.overlay-card h2{font-family:Caveat,serif;font-size:28px;margin:0;color:var(--accent)}
.overlay-sub{color:var(--muted);margin:6px 0 12px}
.overlay-card:after{content:"";display:block;width:64px;height:6px;margin:12px auto 0;border-radius:6px;background:linear-gradient(90deg,var(--accent-2),var(--accent));opacity:0.9}
.overlay-buttons{display:flex;gap:10px;justify-content:center;margin-top:8px}
.btn{padding:10px 14px;border-radius:10px;border:0;background:#f3d6de;color:#6b263b;font-weight:600;cursor:pointer}
.btn.positive{background:linear-gradient(90deg,var(--accent),#9f6a8e);color:white}
.btn.shy{background:#fff2f4}
.tease{margin-top:12px;color:#b23f63}
.hidden{display:none}

/* make shy buttons 'escape' */
.btn.shy{position:relative;transition:transform .15s ease}

/* pulse for primary button */
.btn.positive{transition:transform .18s cubic-bezier(.2,.9,.2,1),box-shadow .18s}
.btn.positive:hover{transform:translateY(-3px);box-shadow:0 12px 30px rgba(199,106,139,0.12)}
.btn.positive:active{transform:translateY(0) scale(.98)}

/* floating hearts container */
.hearts-container{position:fixed;left:0;right:0;top:0;bottom:0;pointer-events:none;overflow:visible;z-index:90}
.heart{position:absolute;width:18px;height:18px;background:var(--accent);transform:translateY(0) scale(0.9) rotate(20deg);clip-path:path('M10 3 C7 -1 1 -1 1 4 C1 9 10 15 10 15 C10 15 19 9 19 4 C19 -1 13 -1 10 3 Z');opacity:0.95;border-radius:6px}

@keyframes floatUp {
    0%{transform:translateY(0) scale(0.9);opacity:1}
    30%{transform:translateY(-30px) scale(1.05)}
    100%{transform:translateY(-220px) scale(1.15);opacity:0}
}

/* small sparkle when modal opens */
.modal.is-visible .modal-content{animation:popIn .28s cubic-bezier(.2,.9,.2,1)}
@keyframes popIn{0%{transform:scale(.98) translateY(6px);opacity:0}60%{transform:scale(1.02) translateY(-4px);opacity:1}100%{transform:none}}


/* Hope panel */
.open-hope{position:fixed;right:18px;top:50%;transform:translateY(-50%);background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;border:0;border-radius:12px;padding:10px 12px;box-shadow:0 18px 40px rgba(199,106,139,0.12);cursor:pointer;z-index:60}

/* small sparkle overlay on photo frames */
.photo-grid figure::after{content:"";position:absolute;right:10px;top:10px;width:14px;height:14px;background:radial-gradient(circle at 30% 30%, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.6) 30%, transparent 60%);opacity:0;transform:scale(.8);transition:all .32s ease}
.photo-grid figure:hover::after{opacity:1;transform:scale(1.05)}

@keyframes sparklePulse{0%{transform:scale(.9);opacity:0}50%{transform:scale(1.05);opacity:1}100%{transform:scale(1);opacity:0}}
.hope-panel{position:fixed;right:18px;top:50%;transform:translateY(-50%);width:320px;background:var(--card);padding:16px;border-radius:12px;box-shadow:0 20px 50px rgba(0,0,0,0.18);z-index:70}
.hope-panel h3{margin:0 0 8px;color:var(--accent);font-family:Caveat,serif}
.hope-panel textarea{width:100%;resize:vertical;padding:10px;border-radius:8px;border:1px solid #eee;margin-bottom:8px}
.close-hope{position:absolute;right:8px;top:6px;border:0;background:transparent;font-size:22px;cursor:pointer}

/* small note for visitors to click Iyaa banget */
.overlay-card .hint{font-size:13px;color:var(--muted);margin-top:8px}

/* Blur effect when overlay is active */
.blurred{filter:blur(6px) saturate(0.95);transition:filter .25s ease;pointer-events:none}

/* Modal / Lightbox styles */
.modal{position:fixed;inset:0;background:rgba(0,0,0,0.7);display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .25s ease}
.modal.is-visible{opacity:1;pointer-events:auto}
.modal-inner{position:relative;max-width:92vw;max-height:92vh;display:flex;align-items:center;justify-content:center}
.modal-content{max-width:84vw;max-height:80vh;border-radius:10px;object-fit:contain;box-shadow:0 20px 60px rgba(0,0,0,0.5)}
.modal-caption{position:absolute;left:50%;transform:translateX(-50%);bottom:10px;background:rgba(255,255,255,0.9);color:#333;padding:8px 12px;border-radius:999px;font-size:13px}
.modal-prev,.modal-next{position:absolute;top:50%;transform:translateY(-50%);background:rgba(255,255,255,0.9);border:0;width:44px;height:44px;border-radius:50%;font-size:24px;cursor:pointer}
.modal-prev{left:-60px}
.modal-next{right:-60px}
.modal-download{position:absolute;right:10px;top:10px;background:rgba(255,255,255,0.92);padding:6px 10px;border-radius:8px;color:var(--accent);text-decoration:none;font-weight:600}
.close-modal{position:absolute;right:-18px;top:-18px;background:var(--accent);color:white;border-radius:50%;width:44px;height:44px;border:0;cursor:pointer;font-size:20px}


@media(min-width:900px){
    .photo-grid{grid-template-columns:repeat(4,1fr)}
    .photo-grid img{height:180px}
}

@media(max-width:520px){
    /* Compact header on small screens */
    .header-toolbar{left:12px;right:12px;top:12px;position:fixed;display:flex;align-items:center;z-index:210}
    .toolbar-group{display:none}
    .mobile-only{display:inline-flex}
    .header-toolbar.expanded .toolbar-group{display:flex;flex-direction:column;position:absolute;left:12px;top:48px;background:var(--card);padding:12px;border-radius:12px;box-shadow:var(--card-elev);max-width:92vw}
    .header-toolbar.expanded .toolbar-group .btn.small{width:100%;text-align:left}
    .hide-on-mobile{display:none}
    .hearts-bg{display:none}
    .timeline{display:none}
    .main-header h1{font-size:34px}
    .photo-grid img{height:auto}
    .photo-grid{grid-template-columns:1fr}
    .audio-container{right:14px;bottom:14px}
    .visualizer{display:none}
    .floating-messages{left:8px;bottom:100px}

    /* Mobile bottom action bar */
    .mobile-bottom-bar{position:fixed;left:8px;right:8px;bottom:12px;display:flex;gap:8px;justify-content:space-between;align-items:center;padding:8px;border-radius:14px;background:linear-gradient(90deg,rgba(255,255,255,0.98),rgba(255,245,250,0.98));box-shadow:0 18px 50px rgba(199,106,139,0.12);z-index:220}
    .mobile-bottom-bar .btn{flex:1;padding:10px 8px;border-radius:10px;font-size:15px}

    /* Fullscreen modal on mobile */
    .modal .modal-inner{max-width:100vw;max-height:100vh}
    .modal.is-visible{align-items:flex-end}
    .modal .modal-content{max-width:100%;max-height:60vh;border-radius:12px}
    .modal-prev,.modal-next{left:12px;right:12px;top:auto;bottom:22%;transform:none}

    /* Make overlay primary button larger on mobile */
    .overlay-card .btn.positive{padding:14px 18px;font-size:18px}
    .overlay-card{padding:28px}

    /* Compact month sections on mobile: keep content visible but reduce vertical space */
    .month-section{padding:8px;margin:8px 0;border-radius:12px}
    .month-section .month-content{padding:6px}
    .month-story{font-size:0.98rem;margin-bottom:8px}
    .month-subtitle{font-size:13px;margin-bottom:6px}
    /* Horizontal swipe gallery to reduce vertical scroll while keeping images visible */
    .photo-grid{display:flex;flex-direction:row;gap:10px;overflow-x:auto;padding-bottom:8px;-webkit-overflow-scrolling:touch;scroll-snap-type:x mandatory}
    .photo-grid figure{flex:0 0 72%;max-width:72%;scroll-snap-align:center;margin:0;border-radius:12px;overflow:hidden;padding:6px;background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,245,250,0.9))}
    /* Prevent cropping: keep image fully visible within card */
    .photo-grid img{width:100%;height:auto;object-fit:contain;display:block;border-radius:10px;background:linear-gradient(90deg, rgba(255,255,255,0.6), rgba(245,245,245,0.4))}
    .photo-grid figcaption{font-size:11px;padding-top:6px}
    .month-title{cursor:default}
}

/* print styles */
@media print{
    body{background:white;color:#111}
    .audio-container, .scroll-indicator, .overlay, .open-hope, .hope-panel, #restart-button, .modal, #audio-control{display:none !important}
    main{max-width:100%;margin:0;padding:0}
    .month-section{box-shadow:none;border-radius:0;margin:0 0 12px}
    .photo-grid img{height:auto;display:block;page-break-inside:avoid}
}

/* small utilities */
.hidden{display:none}

/* skip link */
.skip-link{position:fixed;left:12px;top:12px;background:var(--accent);color:white;padding:8px 12px;border-radius:8px;z-index:200;transform:translateY(-120%);transition:transform .18s ease}
.skip-link:focus{transform:translateY(0);outline:3px solid rgba(199,106,139,0.14)}

/* focus visible for keyboard users */
:focus{outline:none}
:focus-visible{outline:3px solid rgba(199,106,139,0.18);outline-offset:3px;border-radius:8px}

/* image skeleton while loading */
.photo-grid figure{background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.4));}
.photo-grid .loading{background:linear-gradient(90deg, rgba(245,163,183,0.06), rgba(255,255,255,0.06));position:relative}
.photo-grid .loading::before{content:"";position:absolute;inset:8px;border-radius:8px;background:linear-gradient(90deg, rgba(240,240,240,0.4), rgba(255,255,255,0.6));animation:shimmer 1.2s linear infinite}
@keyframes shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}

/* reduce motion preference */
@media (prefers-reduced-motion: reduce){
    *{animation-duration:0.001ms !important;transition-duration:0.001ms !important}
}
